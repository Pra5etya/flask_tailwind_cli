<!DOCTYPE html>
<!-- Anti-flicker sebelum <html> -->
<script>
    const theme = localStorage.getItem("theme");
    if (theme === "dark") {
        document.documentElement.classList.add("dark");
    } else {
        document.documentElement.classList.remove("dark");
    }
</script>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Flask + Tailwind v4</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body class="bg-white text-black dark:bg-gray-900 dark:text-gray-100 transition-all min-h-screen">

    <div class="p-6">
        <button 
            id="themeToggle"
            onclick="toggleDarkMode()" 
            class="px-4 py-2 rounded bg-gray-800 text-white dark:bg-gray-200 dark:text-black transition"
        >
            Loading...
        </button>

        <h1 class="text-3xl font-bold mt-6">
            Hello Tailwind CSS v4 + Flask!
        </h1>
    </div>

    <script>
        const btn = document.getElementById("themeToggle");

        // Atur teks tombol saat halaman load
        function updateButtonText() {
            const isDark = document.documentElement.classList.contains("dark");
            btn.textContent = isDark ? "Enable Light Mode" : "Enable Dark Mode";
        }

        // Toggle dark/light
        function toggleDarkMode() {
            const html = document.documentElement;
            const isDark = html.classList.toggle("dark");

            localStorage.setItem("theme", isDark ? "dark" : "light");

            updateButtonText();
        }

        // Jalankan saat load
        updateButtonText();
    </script>

</body>
</html>
